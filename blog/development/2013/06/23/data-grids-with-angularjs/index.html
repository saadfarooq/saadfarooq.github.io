<!DOCTYPE html><html><!DOCTYPE html><html><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><title>Data Grids with AngularJS</title><meta name=viewport content="width=device-width"><link rel=stylesheet href="http://fonts.googleapis.com/css?family=Open+Sans:300,400italic,400,600,700|Abril+Fatface"><!-- <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet"> --><link href=//netdna.bootstrapcdn.com/bootswatch/3.0.3/yeti/bootstrap.min.css rel=stylesheet><link href=//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css rel=stylesheet><script src=http://code.jquery.com/jquery-2.0.3.min.js></script><script src=//netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js></script><link rel=stylesheet href=/css/f79b.main.css></head><body><div class=row><header class="masthead col-md-4"><div class="inner text-center"><a href=/><img src="http://www.gravatar.com/avatar/da46d3d12af35a4f70339ac6aba7f9c8?s=150" class="center-block img-circle img-responsive"></a><h1>Saad Farooq</h1><p class=lead>I have issues... need pull requests</p><div id=contact-list class=text-center><ul class="list-unstyled list-inline"><li><a class="btn btn-circle btn-sm" href=https://github.com/sfarooq><i class="fa fa-github-alt fa-lg fa-2x fa-inverse"></i></a></li><li><a class="btn btn-circle btn-sm" href=https://twitter.com/unimpeccable><i class="fa fa-twitter fa-lg fa-2x"></i></a></li><li><a class="btn btn-circle btn-sm" href=mailto:sa@dfarooq.com><i class="fa fa-envelope fa-lg fa-2x"></i></a></li></ul><ul id=contact-list-secondary class="list-unstyled list-inline"></ul></div><div class=colophon><!--             <ul class="colophon-links">
                <li>
                    <a href="httdanps://github.com/mdo/hyde/archive/v.zip">Download</a>
                </li>
                <li>
                    <a href="https://github.com/mdo/hyde">GitHub project</a>
                </li>
            </ul> --><p>&copy; 2014. Saad Farooq All rights reserved.</p></div></div></header><div class="content col-md-8 col-md-offset-4"><h2>Data Grids with AngularJS</h2><p class=meta>23 Jun 2013</p><div class=post><h2>Criteria</h2><p>As always, lets start with we want in our data grids.</p><ul><li>Frontend (JS) driven - with all the tweaking that is expected of tables / grids, working from JS is just simpler instead of doing some processing in one language and some in another. I&#39;ve run into problems using multiple languages previously where SQL was not flexible enough to do good processing of data. I then had to do some processing in a server side language (PHP) and some in the frontend using Javascript. This approach is way easier, just get the raw unformatted data from SQL and do everything in Javascript.</li><li>Flexible - there is a tradeoff here. On the one hand, it would be good to have control over individual columns. On the other, it might be convenient to just give a widget data and have it show up.</li><li>Easy to manipulate - similar to flexible above, some of the problems with the Yii plugin we previously used is it was too rigid. You could only used the options that they already have built-in and it&#39;s not very declarative.</li></ul><h2>Options</h2><ul><li>Using native Angular directives</li><li>Using a pre-built Data-grid</li></ul><h3>Native Angular</h3><p>Angular directives give a great way to roll your own table using whatever data-types you prefer. The implementation of the table in the current layout is just the following:</p><div class=highlight><pre><code class=html><span class=nt>&lt;table&gt;</span>
    <span class=nt>&lt;thead&gt;</span>
        <span class=nt>&lt;tr&gt;</span>
            <span class=nt>&lt;th</span> <span class=na>ng-repeat=</span><span class=s>&quot;header in headers&quot;</span><span class=nt>&gt;</span>  {{ header }} <span class=nt>&lt;/th&gt;</span>
        <span class=nt>&lt;/tr&gt;</span>
    <span class=nt>&lt;/thead&gt;</span>
    <span class=nt>&lt;tbody&gt;</span>
        <span class=nt>&lt;tr</span> <span class=na>ng-repeat=</span><span class=s>&quot;value in values | filter:filterBy&quot;</span><span class=nt>&gt;</span>
            <span class=nt>&lt;td&gt;</span>  {{ value.Title }}        <span class=nt>&lt;/td&gt;</span>
            <span class=nt>&lt;td&gt;</span>  {{ value.Description }}  <span class=nt>&lt;/td&gt;</span>
            <span class=nt>&lt;td&gt;</span>  {{ value.Date }}         <span class=nt>&lt;/td&gt;</span>
            <span class=nt>&lt;td&gt;</span>  {{ value.Password }}     <span class=nt>&lt;/td&gt;</span>
        <span class=nt>&lt;/tr&gt;</span>
    <span class=nt>&lt;/tbody&gt;</span>
<span class=nt>&lt;/table&gt;</span>
</code></pre></div><p>But where does the data come from. Well, in the controller you just use Angular&#39;s <code>$http</code> service to make a web call and set the returned value to a variable on the scope. The data-binding guarantees that the data shows up on the same variable in the HTML.</p><div class=highlight><pre><code class=js><span class=nx>$http</span><span class=p>({</span><span class=nx>method</span><span class=o>:</span> <span class=s1>&#39;GET&#39;</span><span class=p>,</span> <span class=nx>url</span><span class=o>:</span> <span class=s1>&#39;http://someserver&#39;</span><span class=p>}).</span>
    <span class=nx>success</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>data</span><span class=p>,</span> <span class=nx>status</span><span class=p>,</span> <span class=nx>headers</span><span class=p>,</span> <span class=nx>config</span><span class=p>)</span> <span class=p>{</span>
        <span class=nx>$scope</span><span class=p>.</span><span class=nx>headers</span> <span class=o>=</span> <span class=nb>Object</span><span class=p>.</span><span class=nx>keys</span><span class=p>(</span><span class=nx>data</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span> <span class=c1>// get the headers from one row</span>
        <span class=nx>$scope</span><span class=p>.</span><span class=nx>values</span>  <span class=o>=</span> <span class=nx>data</span><span class=p>;</span>
    <span class=p>});</span>
</code></pre></div><p>And voila, the data fills up the table. Also, notice the filter &quot;piped&quot; after the <code>ng-repeat</code> directive. By simply adding:</p><div class=highlight><pre><code class=html><span class=nt>&lt;input</span> <span class=na>ng-model=</span><span class=s>&quot;filterBy&quot;</span><span class=nt>&gt;&lt;/input&gt;</span>
</code></pre></div><p>to the page, the table is filtered by the values containing the string from input. No other code necessary. Isn&#39;t that cool...</p><p>Of course, we can also write other filters. In our application, filtering is a great tool because of the large lists we have. That coupled with the fact that I&#39;ve never liked the look of data-grid (they seem too... serious) so this option is definitely my favorite.</p><h3>Using a Pre-Built Data-grid</h3><p>In this case, there are plenty of options to choose from. I couldn&#39;t get the ones I tried to work out of the box and it turned out it might have to do with setting some data before the HTTP call is made and then updating the data instead of setting it just on the success callback (now called promise).</p><p>Eventually, the one I&#39;m using is called <a href=http://angular-ui.github.io/ng-grid/>ng-grid</a>. The only problem you need to be aware of with this (apart from the setting data as above) is that initially it might only show a couple rows of data. Turns out it&#39;s a bug in Javascript. There is a workaround suggested <a href=https://github.com/angular-ui/ng-grid/issues/80>here</a> to make sure it uses <code>auto</code> height until the bug is fixed but it didn&#39;t work for me so I had to set the height manually.</p><p>Others that might be of interest are : <a href=http://lorenzofox3.github.io/smart-table-website/>Smart Table</a> and <a href=http://angulartable.com/>Angular Table</a>. Angular Table claims to be completely declarative which is cool. Unfortunately, I couldn&#39;t get it to work right in the limited time I had. Might have to give it another try soon.</p><h2>Conclusion</h2><p>I&#39;d love to just go with the native Angular table but I realize that might be too geeky overall. Will have to see what the group decides. Might just end up doing it with Yii in the end.</p></div><hr><div id=disqus_thread></div><script type=text/javascript>var disqus_developer = 1; 
  
  var disqus_shortname = 'saadfarooq'; // required: replace example with your forum shortname
  
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();</script><noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=http://disqus.com class=dsq-brlink>blog comments powered by <span class=logo-disqus>Disqus</span></a></div></div><!-- footer.html --><footer><hr><!-- <p>
 	&copy; 2014 Saad Farooq.
 </p>
 <p>Made with Jekyll</p> --></footer><script src=/js/d41d.scripts.js></script><!-- footer.html end --></body></html></html>